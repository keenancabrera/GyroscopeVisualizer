{"ast":null,"code":"import { Clock } from \"three\";\nconst clock = new Clock();\nclass Loop {\n  constructor(camera, scene, renderer, controls, solution) {\n    this.camera = camera;\n    this.scene = scene;\n    this.renderer = renderer;\n    this.controls = controls;\n    this.updatables = [];\n    this.solution = solution;\n    this.isPaused = false;\n    this.stepSize = 1 / 240;\n  }\n  start(state, paused = false) {\n    this.isPaused = paused;\n    clock.getDelta();\n    this.renderer.setAnimationLoop(() => {\n      if (this.isPaused == false) {\n        this.tick();\n      } else {\n        this.Pause(state);\n      }\n      this.controls.update();\n      this.renderer.render(this.scene, this.camera);\n    });\n  }\n  Pause(state) {\n    // this.renderer.setAnimationLoop(null);\n    this.isPaused = true;\n    for (const object of this.updatables) {\n      object.tick(state);\n    }\n    this.renderer.render(this.scene, this.camera);\n  }\n  tick() {\n    let delta = clock.getDelta();\n    for (const object of this.updatables) {\n      object.tick(this.solution[0]);\n    }\n    for (let i = 0; i <= Math.round(delta / this.stepSize); i++) {\n      this.solution.shift();\n    }\n\n    // console.log(this.solution.length)\n  }\n}\n\nexport { Loop };","map":{"version":3,"names":["Clock","clock","Loop","constructor","camera","scene","renderer","controls","solution","updatables","isPaused","stepSize","start","state","paused","getDelta","setAnimationLoop","tick","Pause","update","render","object","delta","i","Math","round","shift"],"sources":["/Users/cabrera/Documents/GyroscopeVisualizer/frontend/src/gyroscopeRenderer/systems/Loop.js"],"sourcesContent":["import { Clock } from \"three\";\n\nconst clock = new Clock()\n\nclass Loop {\n  constructor(camera, scene, renderer, controls, solution) {\n    this.camera = camera\n    this.scene = scene\n    this.renderer = renderer\n    this.controls = controls\n    this.updatables = []\n    this.solution = solution\n    this.isPaused = false\n    this.stepSize = 1/240\n  }\n\n   start(state, paused = false) {\n    this.isPaused = paused\n\n    clock.getDelta()\n    this.renderer.setAnimationLoop(() => {\n      if(this.isPaused == false){\n        this.tick()\n      }\n      else {\n        this.Pause(state)\n      }\n      this.controls.update()\n      this.renderer.render(this.scene, this.camera)\n    })\n  }\n\n  Pause(state) {\n    // this.renderer.setAnimationLoop(null);\n    this.isPaused = true\n    for(const object of this.updatables){\n      object.tick(state)\n    }\n    this.renderer.render(this.scene, this.camera)\n  }\n  \n  tick() {\n    let delta = clock.getDelta()\n    for (const object of this.updatables){\n      object.tick(this.solution[0])\n    }\n\n    for(let i = 0; i <= Math.round(delta/this.stepSize); i++){\n      this.solution.shift()\n    }\n\n    // console.log(this.solution.length)\n  }\n}\n\nexport { Loop };"],"mappings":"AAAA,SAASA,KAAK,QAAQ,OAAO;AAE7B,MAAMC,KAAK,GAAG,IAAID,KAAK,CAAC,CAAC;AAEzB,MAAME,IAAI,CAAC;EACTC,WAAWA,CAACC,MAAM,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;IACvD,IAAI,CAACJ,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACE,UAAU,GAAG,EAAE;IACpB,IAAI,CAACD,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACE,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,QAAQ,GAAG,CAAC,GAAC,GAAG;EACvB;EAECC,KAAKA,CAACC,KAAK,EAAEC,MAAM,GAAG,KAAK,EAAE;IAC5B,IAAI,CAACJ,QAAQ,GAAGI,MAAM;IAEtBb,KAAK,CAACc,QAAQ,CAAC,CAAC;IAChB,IAAI,CAACT,QAAQ,CAACU,gBAAgB,CAAC,MAAM;MACnC,IAAG,IAAI,CAACN,QAAQ,IAAI,KAAK,EAAC;QACxB,IAAI,CAACO,IAAI,CAAC,CAAC;MACb,CAAC,MACI;QACH,IAAI,CAACC,KAAK,CAACL,KAAK,CAAC;MACnB;MACA,IAAI,CAACN,QAAQ,CAACY,MAAM,CAAC,CAAC;MACtB,IAAI,CAACb,QAAQ,CAACc,MAAM,CAAC,IAAI,CAACf,KAAK,EAAE,IAAI,CAACD,MAAM,CAAC;IAC/C,CAAC,CAAC;EACJ;EAEAc,KAAKA,CAACL,KAAK,EAAE;IACX;IACA,IAAI,CAACH,QAAQ,GAAG,IAAI;IACpB,KAAI,MAAMW,MAAM,IAAI,IAAI,CAACZ,UAAU,EAAC;MAClCY,MAAM,CAACJ,IAAI,CAACJ,KAAK,CAAC;IACpB;IACA,IAAI,CAACP,QAAQ,CAACc,MAAM,CAAC,IAAI,CAACf,KAAK,EAAE,IAAI,CAACD,MAAM,CAAC;EAC/C;EAEAa,IAAIA,CAAA,EAAG;IACL,IAAIK,KAAK,GAAGrB,KAAK,CAACc,QAAQ,CAAC,CAAC;IAC5B,KAAK,MAAMM,MAAM,IAAI,IAAI,CAACZ,UAAU,EAAC;MACnCY,MAAM,CAACJ,IAAI,CAAC,IAAI,CAACT,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC/B;IAEA,KAAI,IAAIe,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIC,IAAI,CAACC,KAAK,CAACH,KAAK,GAAC,IAAI,CAACX,QAAQ,CAAC,EAAEY,CAAC,EAAE,EAAC;MACvD,IAAI,CAACf,QAAQ,CAACkB,KAAK,CAAC,CAAC;IACvB;;IAEA;EACF;AACF;;AAEA,SAASxB,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}