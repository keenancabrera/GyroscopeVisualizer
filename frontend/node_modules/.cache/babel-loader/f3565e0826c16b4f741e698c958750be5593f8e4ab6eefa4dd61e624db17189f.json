{"ast":null,"code":"import { WebGLCubeRenderTarget, Scene, CubeCamera, BoxGeometry, Mesh, BackSide, NoBlending, LinearFilter, LinearMipmapLinearFilter } from 'three';\nimport { equirectUV } from '../../nodes/utils/EquirectUVNode.js';\nimport { texture as TSL_Texture } from '../../nodes/accessors/TextureNode.js';\nimport { positionWorldDirection } from '../../nodes/accessors/PositionNode.js';\nimport { createNodeMaterialFromType } from '../../nodes/materials/NodeMaterial.js';\n\n// @TODO: Consider rename WebGLCubeRenderTarget to just CubeRenderTarget\n\nclass CubeRenderTarget extends WebGLCubeRenderTarget {\n  constructor(size = 1, options = {}) {\n    super(size, options);\n    this.isCubeRenderTarget = true;\n  }\n  fromEquirectangularTexture(renderer, texture) {\n    const currentMinFilter = texture.minFilter;\n    const currentGenerateMipmaps = texture.generateMipmaps;\n    texture.generateMipmaps = true;\n    this.texture.type = texture.type;\n    this.texture.colorSpace = texture.colorSpace;\n    this.texture.generateMipmaps = texture.generateMipmaps;\n    this.texture.minFilter = texture.minFilter;\n    this.texture.magFilter = texture.magFilter;\n    const geometry = new BoxGeometry(5, 5, 5);\n    const uvNode = equirectUV(positionWorldDirection);\n    const material = createNodeMaterialFromType('MeshBasicNodeMaterial');\n    material.colorNode = TSL_Texture(texture, uvNode, 0);\n    material.side = BackSide;\n    material.blending = NoBlending;\n    const mesh = new Mesh(geometry, material);\n    const scene = new Scene();\n    scene.add(mesh);\n\n    // Avoid blurred poles\n    if (texture.minFilter === LinearMipmapLinearFilter) texture.minFilter = LinearFilter;\n    const camera = new CubeCamera(1, 10, this);\n    camera.update(renderer, scene);\n    texture.minFilter = currentMinFilter;\n    texture.currentGenerateMipmaps = currentGenerateMipmaps;\n    mesh.geometry.dispose();\n    mesh.material.dispose();\n    return this;\n  }\n}\nexport default CubeRenderTarget;","map":{"version":3,"names":["WebGLCubeRenderTarget","Scene","CubeCamera","BoxGeometry","Mesh","BackSide","NoBlending","LinearFilter","LinearMipmapLinearFilter","equirectUV","texture","TSL_Texture","positionWorldDirection","createNodeMaterialFromType","CubeRenderTarget","constructor","size","options","isCubeRenderTarget","fromEquirectangularTexture","renderer","currentMinFilter","minFilter","currentGenerateMipmaps","generateMipmaps","type","colorSpace","magFilter","geometry","uvNode","material","colorNode","side","blending","mesh","scene","add","camera","update","dispose"],"sources":["/Users/cabrera/Documents/GyroscopeVisualizer/frontend/node_modules/three/examples/jsm/renderers/common/CubeRenderTarget.js"],"sourcesContent":["import { WebGLCubeRenderTarget, Scene, CubeCamera, BoxGeometry, Mesh, BackSide, NoBlending, LinearFilter, LinearMipmapLinearFilter } from 'three';\nimport { equirectUV } from '../../nodes/utils/EquirectUVNode.js';\nimport { texture as TSL_Texture } from '../../nodes/accessors/TextureNode.js';\nimport { positionWorldDirection } from '../../nodes/accessors/PositionNode.js';\nimport { createNodeMaterialFromType } from '../../nodes/materials/NodeMaterial.js';\n\n// @TODO: Consider rename WebGLCubeRenderTarget to just CubeRenderTarget\n\nclass CubeRenderTarget extends WebGLCubeRenderTarget {\n\n\tconstructor( size = 1, options = {} ) {\n\n\t\tsuper( size, options );\n\n\t\tthis.isCubeRenderTarget = true;\n\n\t}\n\n\tfromEquirectangularTexture( renderer, texture ) {\n\n\t\tconst currentMinFilter = texture.minFilter;\n\t\tconst currentGenerateMipmaps = texture.generateMipmaps;\n\n\t\ttexture.generateMipmaps = true;\n\n\t\tthis.texture.type = texture.type;\n\t\tthis.texture.colorSpace = texture.colorSpace;\n\n\t\tthis.texture.generateMipmaps = texture.generateMipmaps;\n\t\tthis.texture.minFilter = texture.minFilter;\n\t\tthis.texture.magFilter = texture.magFilter;\n\n\t\tconst geometry = new BoxGeometry( 5, 5, 5 );\n\n\t\tconst uvNode = equirectUV( positionWorldDirection );\n\n\t\tconst material = createNodeMaterialFromType( 'MeshBasicNodeMaterial' );\n\t\tmaterial.colorNode = TSL_Texture( texture, uvNode, 0 );\n\t\tmaterial.side = BackSide;\n\t\tmaterial.blending = NoBlending;\n\n\t\tconst mesh = new Mesh( geometry, material );\n\n\t\tconst scene = new Scene();\n\t\tscene.add( mesh );\n\n\t\t// Avoid blurred poles\n\t\tif ( texture.minFilter === LinearMipmapLinearFilter ) texture.minFilter = LinearFilter;\n\n\t\tconst camera = new CubeCamera( 1, 10, this );\n\t\tcamera.update( renderer, scene );\n\n\t\ttexture.minFilter = currentMinFilter;\n\t\ttexture.currentGenerateMipmaps = currentGenerateMipmaps;\n\n\t\tmesh.geometry.dispose();\n\t\tmesh.material.dispose();\n\n\t\treturn this;\n\n\t}\n\n}\n\nexport default CubeRenderTarget;\n"],"mappings":"AAAA,SAASA,qBAAqB,EAAEC,KAAK,EAAEC,UAAU,EAAEC,WAAW,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,YAAY,EAAEC,wBAAwB,QAAQ,OAAO;AACjJ,SAASC,UAAU,QAAQ,qCAAqC;AAChE,SAASC,OAAO,IAAIC,WAAW,QAAQ,sCAAsC;AAC7E,SAASC,sBAAsB,QAAQ,uCAAuC;AAC9E,SAASC,0BAA0B,QAAQ,uCAAuC;;AAElF;;AAEA,MAAMC,gBAAgB,SAASd,qBAAqB,CAAC;EAEpDe,WAAWA,CAAEC,IAAI,GAAG,CAAC,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAG;IAErC,KAAK,CAAED,IAAI,EAAEC,OAAQ,CAAC;IAEtB,IAAI,CAACC,kBAAkB,GAAG,IAAI;EAE/B;EAEAC,0BAA0BA,CAAEC,QAAQ,EAAEV,OAAO,EAAG;IAE/C,MAAMW,gBAAgB,GAAGX,OAAO,CAACY,SAAS;IAC1C,MAAMC,sBAAsB,GAAGb,OAAO,CAACc,eAAe;IAEtDd,OAAO,CAACc,eAAe,GAAG,IAAI;IAE9B,IAAI,CAACd,OAAO,CAACe,IAAI,GAAGf,OAAO,CAACe,IAAI;IAChC,IAAI,CAACf,OAAO,CAACgB,UAAU,GAAGhB,OAAO,CAACgB,UAAU;IAE5C,IAAI,CAAChB,OAAO,CAACc,eAAe,GAAGd,OAAO,CAACc,eAAe;IACtD,IAAI,CAACd,OAAO,CAACY,SAAS,GAAGZ,OAAO,CAACY,SAAS;IAC1C,IAAI,CAACZ,OAAO,CAACiB,SAAS,GAAGjB,OAAO,CAACiB,SAAS;IAE1C,MAAMC,QAAQ,GAAG,IAAIzB,WAAW,CAAE,CAAC,EAAE,CAAC,EAAE,CAAE,CAAC;IAE3C,MAAM0B,MAAM,GAAGpB,UAAU,CAAEG,sBAAuB,CAAC;IAEnD,MAAMkB,QAAQ,GAAGjB,0BAA0B,CAAE,uBAAwB,CAAC;IACtEiB,QAAQ,CAACC,SAAS,GAAGpB,WAAW,CAAED,OAAO,EAAEmB,MAAM,EAAE,CAAE,CAAC;IACtDC,QAAQ,CAACE,IAAI,GAAG3B,QAAQ;IACxByB,QAAQ,CAACG,QAAQ,GAAG3B,UAAU;IAE9B,MAAM4B,IAAI,GAAG,IAAI9B,IAAI,CAAEwB,QAAQ,EAAEE,QAAS,CAAC;IAE3C,MAAMK,KAAK,GAAG,IAAIlC,KAAK,CAAC,CAAC;IACzBkC,KAAK,CAACC,GAAG,CAAEF,IAAK,CAAC;;IAEjB;IACA,IAAKxB,OAAO,CAACY,SAAS,KAAKd,wBAAwB,EAAGE,OAAO,CAACY,SAAS,GAAGf,YAAY;IAEtF,MAAM8B,MAAM,GAAG,IAAInC,UAAU,CAAE,CAAC,EAAE,EAAE,EAAE,IAAK,CAAC;IAC5CmC,MAAM,CAACC,MAAM,CAAElB,QAAQ,EAAEe,KAAM,CAAC;IAEhCzB,OAAO,CAACY,SAAS,GAAGD,gBAAgB;IACpCX,OAAO,CAACa,sBAAsB,GAAGA,sBAAsB;IAEvDW,IAAI,CAACN,QAAQ,CAACW,OAAO,CAAC,CAAC;IACvBL,IAAI,CAACJ,QAAQ,CAACS,OAAO,CAAC,CAAC;IAEvB,OAAO,IAAI;EAEZ;AAED;AAEA,eAAezB,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}