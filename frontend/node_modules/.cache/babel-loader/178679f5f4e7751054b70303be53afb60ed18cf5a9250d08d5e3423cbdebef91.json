{"ast":null,"code":"import { CullFaceNone, CullFaceBack, CullFaceFront, DoubleSide, BackSide, NormalBlending, NoBlending, CustomBlending, AddEquation, AdditiveBlending, SubtractiveBlending, MultiplyBlending, SubtractEquation, ReverseSubtractEquation, ZeroFactor, OneFactor, SrcColorFactor, SrcAlphaFactor, SrcAlphaSaturateFactor, DstColorFactor, DstAlphaFactor, OneMinusSrcColorFactor, OneMinusSrcAlphaFactor, OneMinusDstColorFactor, OneMinusDstAlphaFactor, NeverDepth, AlwaysDepth, LessDepth, LessEqualDepth, EqualDepth, GreaterEqualDepth, GreaterDepth, NotEqualDepth } from 'three';\nlet initialized = false,\n  equationToGL,\n  factorToGL;\nclass WebGLState {\n  constructor(backend) {\n    this.backend = backend;\n    this.gl = this.backend.gl;\n    this.enabled = {};\n    this.currentFlipSided = null;\n    this.currentCullFace = null;\n    this.currentProgram = null;\n    this.currentBlendingEnabled = null;\n    this.currentBlending = null;\n    this.currentBlendSrc = null;\n    this.currentBlendDst = null;\n    this.currentBlendSrcAlpha = null;\n    this.currentBlendDstAlpha = null;\n    this.currentPremultipledAlpha = null;\n    this.currentPolygonOffsetFactor = null;\n    this.currentPolygonOffsetUnits = null;\n    this.currentDepthFunc = null;\n    this.currentDepthMask = null;\n    this.currentStencilFunc = null;\n    this.currentStencilRef = null;\n    this.currentStencilFuncMask = null;\n    this.currentStencilFail = null;\n    this.currentStencilZFail = null;\n    this.currentStencilZPass = null;\n    this.currentStencilMask = null;\n    if (initialized === false) {\n      this._init(this.gl);\n      initialized = true;\n    }\n  }\n  _init(gl) {\n    // Store only WebGL constants here.\n\n    equationToGL = {\n      [AddEquation]: gl.FUNC_ADD,\n      [SubtractEquation]: gl.FUNC_SUBTRACT,\n      [ReverseSubtractEquation]: gl.FUNC_REVERSE_SUBTRACT\n    };\n    factorToGL = {\n      [ZeroFactor]: gl.ZERO,\n      [OneFactor]: gl.ONE,\n      [SrcColorFactor]: gl.SRC_COLOR,\n      [SrcAlphaFactor]: gl.SRC_ALPHA,\n      [SrcAlphaSaturateFactor]: gl.SRC_ALPHA_SATURATE,\n      [DstColorFactor]: gl.DST_COLOR,\n      [DstAlphaFactor]: gl.DST_ALPHA,\n      [OneMinusSrcColorFactor]: gl.ONE_MINUS_SRC_COLOR,\n      [OneMinusSrcAlphaFactor]: gl.ONE_MINUS_SRC_ALPHA,\n      [OneMinusDstColorFactor]: gl.ONE_MINUS_DST_COLOR,\n      [OneMinusDstAlphaFactor]: gl.ONE_MINUS_DST_ALPHA\n    };\n  }\n  enable(id) {\n    const {\n      enabled\n    } = this;\n    if (enabled[id] !== true) {\n      this.gl.enable(id);\n      enabled[id] = true;\n    }\n  }\n  disable(id) {\n    const {\n      enabled\n    } = this;\n    if (enabled[id] !== false) {\n      this.gl.disable(id);\n      enabled[id] = false;\n    }\n  }\n  setFlipSided(flipSided) {\n    if (this.currentFlipSided !== flipSided) {\n      const {\n        gl\n      } = this;\n      if (flipSided) {\n        gl.frontFace(gl.CW);\n      } else {\n        gl.frontFace(gl.CCW);\n      }\n      this.currentFlipSided = flipSided;\n    }\n  }\n  setCullFace(cullFace) {\n    const {\n      gl\n    } = this;\n    if (cullFace !== CullFaceNone) {\n      this.enable(gl.CULL_FACE);\n      if (cullFace !== this.currentCullFace) {\n        if (cullFace === CullFaceBack) {\n          gl.cullFace(gl.BACK);\n        } else if (cullFace === CullFaceFront) {\n          gl.cullFace(gl.FRONT);\n        } else {\n          gl.cullFace(gl.FRONT_AND_BACK);\n        }\n      }\n    } else {\n      this.disable(gl.CULL_FACE);\n    }\n    this.currentCullFace = cullFace;\n  }\n  setBlending(blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha) {\n    const {\n      gl\n    } = this;\n    if (blending === NoBlending) {\n      if (this.currentBlendingEnabled === true) {\n        this.disable(gl.BLEND);\n        this.currentBlendingEnabled = false;\n      }\n      return;\n    }\n    if (this.currentBlendingEnabled === false) {\n      this.enable(gl.BLEND);\n      this.currentBlendingEnabled = true;\n    }\n    if (blending !== CustomBlending) {\n      if (blending !== this.currentBlending || premultipliedAlpha !== this.currentPremultipledAlpha) {\n        if (this.currentBlendEquation !== AddEquation || this.currentBlendEquationAlpha !== AddEquation) {\n          gl.blendEquation(gl.FUNC_ADD);\n          this.currentBlendEquation = AddEquation;\n          this.currentBlendEquationAlpha = AddEquation;\n        }\n        if (premultipliedAlpha) {\n          switch (blending) {\n            case NormalBlending:\n              gl.blendFuncSeparate(gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n              break;\n            case AdditiveBlending:\n              gl.blendFunc(gl.ONE, gl.ONE);\n              break;\n            case SubtractiveBlending:\n              gl.blendFuncSeparate(gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ZERO, gl.ONE);\n              break;\n            case MultiplyBlending:\n              gl.blendFuncSeparate(gl.ZERO, gl.SRC_COLOR, gl.ZERO, gl.SRC_ALPHA);\n              break;\n            default:\n              console.error('THREE.WebGLState: Invalid blending: ', blending);\n              break;\n          }\n        } else {\n          switch (blending) {\n            case NormalBlending:\n              gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n              break;\n            case AdditiveBlending:\n              gl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n              break;\n            case SubtractiveBlending:\n              gl.blendFuncSeparate(gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ZERO, gl.ONE);\n              break;\n            case MultiplyBlending:\n              gl.blendFunc(gl.ZERO, gl.SRC_COLOR);\n              break;\n            default:\n              console.error('THREE.WebGLState: Invalid blending: ', blending);\n              break;\n          }\n        }\n        this.currentBlendSrc = null;\n        this.currentBlendDst = null;\n        this.currentBlendSrcAlpha = null;\n        this.currentBlendDstAlpha = null;\n        this.currentBlending = blending;\n        this.currentPremultipledAlpha = premultipliedAlpha;\n      }\n      return;\n    }\n\n    // custom blending\n\n    blendEquationAlpha = blendEquationAlpha || blendEquation;\n    blendSrcAlpha = blendSrcAlpha || blendSrc;\n    blendDstAlpha = blendDstAlpha || blendDst;\n    if (blendEquation !== this.currentBlendEquation || blendEquationAlpha !== this.currentBlendEquationAlpha) {\n      gl.blendEquationSeparate(equationToGL[blendEquation], equationToGL[blendEquationAlpha]);\n      this.currentBlendEquation = blendEquation;\n      this.currentBlendEquationAlpha = blendEquationAlpha;\n    }\n    if (blendSrc !== this.currentBlendSrc || blendDst !== this.currentBlendDst || blendSrcAlpha !== this.currentBlendSrcAlpha || blendDstAlpha !== this.currentBlendDstAlpha) {\n      gl.blendFuncSeparate(factorToGL[blendSrc], factorToGL[blendDst], factorToGL[blendSrcAlpha], factorToGL[blendDstAlpha]);\n      this.currentBlendSrc = blendSrc;\n      this.currentBlendDst = blendDst;\n      this.currentBlendSrcAlpha = blendSrcAlpha;\n      this.currentBlendDstAlpha = blendDstAlpha;\n    }\n    this.currentBlending = blending;\n    this.currentPremultipledAlpha = false;\n  }\n  setDepthTest(depthTest) {\n    const {\n      gl\n    } = this;\n    if (depthTest) {\n      this.enable(gl.DEPTH_TEST);\n    } else {\n      this.disable(gl.DEPTH_TEST);\n    }\n  }\n  setDepthMask(depthMask) {\n    if (this.currentDepthMask !== depthMask) {\n      this.gl.depthMask(depthMask);\n      this.currentDepthMask = depthMask;\n    }\n  }\n  setDepthFunc(depthFunc) {\n    if (this.currentDepthFunc !== depthFunc) {\n      const {\n        gl\n      } = this;\n      switch (depthFunc) {\n        case NeverDepth:\n          gl.depthFunc(gl.NEVER);\n          break;\n        case AlwaysDepth:\n          gl.depthFunc(gl.ALWAYS);\n          break;\n        case LessDepth:\n          gl.depthFunc(gl.LESS);\n          break;\n        case LessEqualDepth:\n          gl.depthFunc(gl.LEQUAL);\n          break;\n        case EqualDepth:\n          gl.depthFunc(gl.EQUAL);\n          break;\n        case GreaterEqualDepth:\n          gl.depthFunc(gl.GEQUAL);\n          break;\n        case GreaterDepth:\n          gl.depthFunc(gl.GREATER);\n          break;\n        case NotEqualDepth:\n          gl.depthFunc(gl.NOTEQUAL);\n          break;\n        default:\n          gl.depthFunc(gl.LEQUAL);\n      }\n      this.currentDepthFunc = depthFunc;\n    }\n  }\n  setStencilTest(stencilTest) {\n    const {\n      gl\n    } = this;\n    if (stencilTest) {\n      this.enable(gl.STENCIL_TEST);\n    } else {\n      this.disable(gl.STENCIL_TEST);\n    }\n  }\n  setStencilMask(stencilMask) {\n    if (this.currentStencilMask !== stencilMask) {\n      this.gl.stencilMask(stencilMask);\n      this.currentStencilMask = stencilMask;\n    }\n  }\n  setStencilFunc(stencilFunc, stencilRef, stencilMask) {\n    if (this.currentStencilFunc !== stencilFunc || this.currentStencilRef !== stencilRef || this.currentStencilFuncMask !== stencilMask) {\n      this.gl.stencilFunc(stencilFunc, stencilRef, stencilMask);\n      this.currentStencilFunc = stencilFunc;\n      this.currentStencilRef = stencilRef;\n      this.currentStencilFuncMask = stencilMask;\n    }\n  }\n  setStencilOp(stencilFail, stencilZFail, stencilZPass) {\n    if (this.currentStencilFail !== stencilFail || this.currentStencilZFail !== stencilZFail || this.currentStencilZPass !== stencilZPass) {\n      this.gl.stencilOp(stencilFail, stencilZFail, stencilZPass);\n      this.currentStencilFail = stencilFail;\n      this.currentStencilZFail = stencilZFail;\n      this.currentStencilZPass = stencilZPass;\n    }\n  }\n  setMaterial(material, frontFaceCW) {\n    const {\n      gl\n    } = this;\n    material.side === DoubleSide ? this.disable(gl.CULL_FACE) : this.enable(gl.CULL_FACE);\n    let flipSided = material.side === BackSide;\n    if (frontFaceCW) flipSided = !flipSided;\n    this.setFlipSided(flipSided);\n    material.blending === NormalBlending && material.transparent === false ? this.setBlending(NoBlending) : this.setBlending(material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha);\n    this.setDepthFunc(material.depthFunc);\n    this.setDepthTest(material.depthTest);\n    this.setDepthMask(material.depthWrite);\n    this.setDepthMask(material.colorWrite);\n    const stencilWrite = material.stencilWrite;\n    this.setStencilTest(stencilWrite);\n    if (stencilWrite) {\n      this.setStencilMask(material.stencilWriteMask);\n      this.setStencilFunc(material.stencilFunc, material.stencilRef, material.stencilFuncMask);\n      this.setStencilOp(material.stencilFail, material.stencilZFail, material.stencilZPass);\n    }\n    this.setPolygonOffset(material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits);\n    material.alphaToCoverage === true ? this.enable(gl.SAMPLE_ALPHA_TO_COVERAGE) : this.disable(gl.SAMPLE_ALPHA_TO_COVERAGE);\n  }\n  setPolygonOffset(polygonOffset, factor, units) {\n    const {\n      gl\n    } = this;\n    if (polygonOffset) {\n      this.enable(gl.POLYGON_OFFSET_FILL);\n      if (this.currentPolygonOffsetFactor !== factor || this.currentPolygonOffsetUnits !== units) {\n        gl.polygonOffset(factor, units);\n        this.currentPolygonOffsetFactor = factor;\n        this.currentPolygonOffsetUnits = units;\n      }\n    } else {\n      this.disable(gl.POLYGON_OFFSET_FILL);\n    }\n  }\n  useProgram(program) {\n    if (this.currentProgram !== program) {\n      this.gl.useProgram(program);\n      this.currentProgram = program;\n      return true;\n    }\n    return false;\n  }\n}\nexport default WebGLState;","map":{"version":3,"names":["CullFaceNone","CullFaceBack","CullFaceFront","DoubleSide","BackSide","NormalBlending","NoBlending","CustomBlending","AddEquation","AdditiveBlending","SubtractiveBlending","MultiplyBlending","SubtractEquation","ReverseSubtractEquation","ZeroFactor","OneFactor","SrcColorFactor","SrcAlphaFactor","SrcAlphaSaturateFactor","DstColorFactor","DstAlphaFactor","OneMinusSrcColorFactor","OneMinusSrcAlphaFactor","OneMinusDstColorFactor","OneMinusDstAlphaFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","initialized","equationToGL","factorToGL","WebGLState","constructor","backend","gl","enabled","currentFlipSided","currentCullFace","currentProgram","currentBlendingEnabled","currentBlending","currentBlendSrc","currentBlendDst","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentPolygonOffsetFactor","currentPolygonOffsetUnits","currentDepthFunc","currentDepthMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilMask","_init","FUNC_ADD","FUNC_SUBTRACT","FUNC_REVERSE_SUBTRACT","ZERO","ONE","SRC_COLOR","SRC_ALPHA","SRC_ALPHA_SATURATE","DST_COLOR","DST_ALPHA","ONE_MINUS_SRC_COLOR","ONE_MINUS_SRC_ALPHA","ONE_MINUS_DST_COLOR","ONE_MINUS_DST_ALPHA","enable","id","disable","setFlipSided","flipSided","frontFace","CW","CCW","setCullFace","cullFace","CULL_FACE","BACK","FRONT","FRONT_AND_BACK","setBlending","blending","blendEquation","blendSrc","blendDst","blendEquationAlpha","blendSrcAlpha","blendDstAlpha","premultipliedAlpha","BLEND","currentBlendEquation","currentBlendEquationAlpha","blendFuncSeparate","blendFunc","console","error","blendEquationSeparate","setDepthTest","depthTest","DEPTH_TEST","setDepthMask","depthMask","setDepthFunc","depthFunc","NEVER","ALWAYS","LESS","LEQUAL","EQUAL","GEQUAL","GREATER","NOTEQUAL","setStencilTest","stencilTest","STENCIL_TEST","setStencilMask","stencilMask","setStencilFunc","stencilFunc","stencilRef","setStencilOp","stencilFail","stencilZFail","stencilZPass","stencilOp","setMaterial","material","frontFaceCW","side","transparent","depthWrite","colorWrite","stencilWrite","stencilWriteMask","stencilFuncMask","setPolygonOffset","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","alphaToCoverage","SAMPLE_ALPHA_TO_COVERAGE","factor","units","POLYGON_OFFSET_FILL","useProgram","program"],"sources":["/Users/cabrera/Documents/GyroscopeVisualizer/frontend/node_modules/three/examples/jsm/renderers/webgl/utils/WebGLState.js"],"sourcesContent":["import {\n\tCullFaceNone, CullFaceBack, CullFaceFront, DoubleSide, BackSide,\n\tNormalBlending, NoBlending, CustomBlending, AddEquation,\n\tAdditiveBlending, SubtractiveBlending, MultiplyBlending, SubtractEquation, ReverseSubtractEquation,\n\tZeroFactor, OneFactor, SrcColorFactor, SrcAlphaFactor, SrcAlphaSaturateFactor, DstColorFactor, DstAlphaFactor,\n\tOneMinusSrcColorFactor, OneMinusSrcAlphaFactor, OneMinusDstColorFactor, OneMinusDstAlphaFactor,\n\tNeverDepth, AlwaysDepth, LessDepth, LessEqualDepth, EqualDepth, GreaterEqualDepth, GreaterDepth, NotEqualDepth\n} from 'three';\n\nlet initialized = false, equationToGL, factorToGL;\n\nclass WebGLState {\n\n\tconstructor( backend ) {\n\n\t\tthis.backend = backend;\n\n\t\tthis.gl = this.backend.gl;\n\n\t\tthis.enabled = {};\n\t\tthis.currentFlipSided = null;\n\t\tthis.currentCullFace = null;\n\t\tthis.currentProgram = null;\n\t\tthis.currentBlendingEnabled = null;\n\t\tthis.currentBlending = null;\n\t\tthis.currentBlendSrc = null;\n\t\tthis.currentBlendDst = null;\n\t\tthis.currentBlendSrcAlpha = null;\n\t\tthis.currentBlendDstAlpha = null;\n\t\tthis.currentPremultipledAlpha = null;\n\t\tthis.currentPolygonOffsetFactor = null;\n\t\tthis.currentPolygonOffsetUnits = null;\n\t\tthis.currentDepthFunc = null;\n\t\tthis.currentDepthMask = null;\n\t\tthis.currentStencilFunc = null;\n\t\tthis.currentStencilRef = null;\n\t\tthis.currentStencilFuncMask = null;\n\t\tthis.currentStencilFail = null;\n\t\tthis.currentStencilZFail = null;\n\t\tthis.currentStencilZPass = null;\n\t\tthis.currentStencilMask = null;\n\n\t\tif ( initialized === false ) {\n\n\t\t\tthis._init( this.gl );\n\n\t\t\tinitialized = true;\n\n\t\t}\n\n\t}\n\n\t_init( gl ) {\n\n\t\t// Store only WebGL constants here.\n\n\t\tequationToGL = {\n\t\t\t[ AddEquation ]: gl.FUNC_ADD,\n\t\t\t[ SubtractEquation ]: gl.FUNC_SUBTRACT,\n\t\t\t[ ReverseSubtractEquation ]: gl.FUNC_REVERSE_SUBTRACT\n\t\t};\n\n\t\tfactorToGL = {\n\t\t\t[ ZeroFactor ]: gl.ZERO,\n\t\t\t[ OneFactor ]: gl.ONE,\n\t\t\t[ SrcColorFactor ]: gl.SRC_COLOR,\n\t\t\t[ SrcAlphaFactor ]: gl.SRC_ALPHA,\n\t\t\t[ SrcAlphaSaturateFactor ]: gl.SRC_ALPHA_SATURATE,\n\t\t\t[ DstColorFactor ]: gl.DST_COLOR,\n\t\t\t[ DstAlphaFactor ]: gl.DST_ALPHA,\n\t\t\t[ OneMinusSrcColorFactor ]: gl.ONE_MINUS_SRC_COLOR,\n\t\t\t[ OneMinusSrcAlphaFactor ]: gl.ONE_MINUS_SRC_ALPHA,\n\t\t\t[ OneMinusDstColorFactor ]: gl.ONE_MINUS_DST_COLOR,\n\t\t\t[ OneMinusDstAlphaFactor ]: gl.ONE_MINUS_DST_ALPHA\n\t\t};\n\n\t}\n\n\tenable( id ) {\n\n\t\tconst { enabled } = this;\n\n\t\tif ( enabled[ id ] !== true ) {\n\n\t\t\tthis.gl.enable( id );\n\t\t\tenabled[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tdisable( id ) {\n\n\t\tconst { enabled } = this;\n\n\t\tif ( enabled[ id ] !== false ) {\n\n\t\t\tthis.gl.disable( id );\n\t\t\tenabled[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tsetFlipSided( flipSided ) {\n\n\t\tif ( this.currentFlipSided !== flipSided ) {\n\n\t\t\tconst { gl } = this;\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( gl.CW );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( gl.CCW );\n\n\t\t\t}\n\n\t\t\tthis.currentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tsetCullFace( cullFace ) {\n\n\t\tconst { gl } = this;\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tthis.enable( gl.CULL_FACE );\n\n\t\t\tif ( cullFace !== this.currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( gl.BACK );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( gl.FRONT );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( gl.FRONT_AND_BACK );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.disable( gl.CULL_FACE );\n\n\t\t}\n\n\t\tthis.currentCullFace = cullFace;\n\n\t}\n\n\tsetBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tconst { gl } = this;\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( this.currentBlendingEnabled === true ) {\n\n\t\t\t\tthis.disable( gl.BLEND );\n\t\t\t\tthis.currentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.currentBlendingEnabled === false ) {\n\n\t\t\tthis.enable( gl.BLEND );\n\t\t\tthis.currentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== this.currentBlending || premultipliedAlpha !== this.currentPremultipledAlpha ) {\n\n\t\t\t\tif ( this.currentBlendEquation !== AddEquation || this.currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( gl.FUNC_ADD );\n\n\t\t\t\t\tthis.currentBlendEquation = AddEquation;\n\t\t\t\t\tthis.currentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( gl.ONE, gl.ONE );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ZERO, gl.ONE );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ZERO, gl.SRC_COLOR, gl.ZERO, gl.SRC_ALPHA );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( gl.SRC_ALPHA, gl.ONE );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ZERO, gl.ONE );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( gl.ZERO, gl.SRC_COLOR );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tthis.currentBlendSrc = null;\n\t\t\t\tthis.currentBlendDst = null;\n\t\t\t\tthis.currentBlendSrcAlpha = null;\n\t\t\t\tthis.currentBlendDstAlpha = null;\n\n\t\t\t\tthis.currentBlending = blending;\n\t\t\t\tthis.currentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== this.currentBlendEquation || blendEquationAlpha !== this.currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tthis.currentBlendEquation = blendEquation;\n\t\t\tthis.currentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== this.currentBlendSrc || blendDst !== this.currentBlendDst || blendSrcAlpha !== this.currentBlendSrcAlpha || blendDstAlpha !== this.currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tthis.currentBlendSrc = blendSrc;\n\t\t\tthis.currentBlendDst = blendDst;\n\t\t\tthis.currentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tthis.currentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tthis.currentBlending = blending;\n\t\tthis.currentPremultipledAlpha = false;\n\n\t}\n\n\tsetDepthTest( depthTest ) {\n\n\t\tconst { gl } = this;\n\n\t\tif ( depthTest ) {\n\n\t\t\tthis.enable( gl.DEPTH_TEST );\n\n\t\t} else {\n\n\t\t\tthis.disable( gl.DEPTH_TEST );\n\n\t\t}\n\n\t}\n\n\tsetDepthMask( depthMask ) {\n\n\t\tif ( this.currentDepthMask !== depthMask ) {\n\n\t\t\tthis.gl.depthMask( depthMask );\n\t\t\tthis.currentDepthMask = depthMask;\n\n\t\t}\n\n\t}\n\n\tsetDepthFunc( depthFunc ) {\n\n\t\tif ( this.currentDepthFunc !== depthFunc ) {\n\n\t\t\tconst { gl } = this;\n\n\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\tgl.depthFunc( gl.NEVER );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\tgl.depthFunc( gl.ALWAYS );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase LessDepth:\n\n\t\t\t\t\tgl.depthFunc( gl.LESS );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\tgl.depthFunc( gl.EQUAL );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\tgl.depthFunc( gl.GEQUAL );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\tgl.depthFunc( gl.GREATER );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\tgl.depthFunc( gl.NOTEQUAL );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\n\t\t\t}\n\n\t\t\tthis.currentDepthFunc = depthFunc;\n\n\t\t}\n\n\t}\n\n\tsetStencilTest( stencilTest ) {\n\n\t\tconst { gl } = this;\n\n\t\tif ( stencilTest ) {\n\n\t\t\tthis.enable( gl.STENCIL_TEST );\n\n\t\t} else {\n\n\t\t\tthis.disable( gl.STENCIL_TEST );\n\n\t\t}\n\n\t}\n\n\tsetStencilMask( stencilMask ) {\n\n\t\tif ( this.currentStencilMask !== stencilMask ) {\n\n\t\t\tthis.gl.stencilMask( stencilMask );\n\t\t\tthis.currentStencilMask = stencilMask;\n\n\t\t}\n\n\t}\n\n\tsetStencilFunc( stencilFunc, stencilRef, stencilMask ) {\n\n\t\tif ( this.currentStencilFunc !== stencilFunc ||\n\t\t\t this.currentStencilRef !== stencilRef ||\n\t\t\t this.currentStencilFuncMask !== stencilMask ) {\n\n\t\t\tthis.gl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\tthis.currentStencilFunc = stencilFunc;\n\t\t\tthis.currentStencilRef = stencilRef;\n\t\t\tthis.currentStencilFuncMask = stencilMask;\n\n\t\t}\n\n\t}\n\n\tsetStencilOp( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\tif ( this.currentStencilFail !== stencilFail ||\n\t\t\t this.currentStencilZFail !== stencilZFail ||\n\t\t\t this.currentStencilZPass !== stencilZPass ) {\n\n\t\t\tthis.gl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\tthis.currentStencilFail = stencilFail;\n\t\t\tthis.currentStencilZFail = stencilZFail;\n\t\t\tthis.currentStencilZPass = stencilZPass;\n\n\t\t}\n\n\t}\n\n\tsetMaterial( material, frontFaceCW ) {\n\n\t\tconst { gl } = this;\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? this.disable( gl.CULL_FACE )\n\t\t\t: this.enable( gl.CULL_FACE );\n\n\t\tlet flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tthis.setFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? this.setBlending( NoBlending )\n\t\t\t: this.setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tthis.setDepthFunc( material.depthFunc );\n\t\tthis.setDepthTest( material.depthTest );\n\t\tthis.setDepthMask( material.depthWrite );\n\t\tthis.setDepthMask( material.colorWrite );\n\n\t\tconst stencilWrite = material.stencilWrite;\n\t\tthis.setStencilTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tthis.setStencilMask( material.stencilWriteMask );\n\t\t\tthis.setStencilFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tthis.setStencilOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tthis.setPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t\tmaterial.alphaToCoverage === true\n\t\t\t? this.enable( gl.SAMPLE_ALPHA_TO_COVERAGE )\n\t\t\t: this.disable( gl.SAMPLE_ALPHA_TO_COVERAGE );\n\n\t}\n\n\tsetPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tconst { gl } = this;\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tthis.enable( gl.POLYGON_OFFSET_FILL );\n\n\t\t\tif ( this.currentPolygonOffsetFactor !== factor || this.currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tthis.currentPolygonOffsetFactor = factor;\n\t\t\t\tthis.currentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.disable( gl.POLYGON_OFFSET_FILL );\n\n\t\t}\n\n\t}\n\n\tuseProgram( program ) {\n\n\t\tif ( this.currentProgram !== program ) {\n\n\t\t\tthis.gl.useProgram( program );\n\n\t\t\tthis.currentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\n}\n\nexport default WebGLState;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}