{"ast":null,"code":"import Node, { addNodeClass } from '../core/Node.js';\nimport { uv } from '../accessors/UVNode.js';\nimport { nodeProxy, float, vec2 } from '../shadernode/ShaderNode.js';\nclass SpriteSheetUVNode extends Node {\n  constructor(countNode, uvNode = uv(), frameNode = float(0)) {\n    super('vec2');\n    this.countNode = countNode;\n    this.uvNode = uvNode;\n    this.frameNode = frameNode;\n  }\n  setup() {\n    const {\n      frameNode,\n      uvNode,\n      countNode\n    } = this;\n    const {\n      width,\n      height\n    } = countNode;\n    const frameNum = frameNode.mod(width.mul(height)).floor();\n    const column = frameNum.mod(width);\n    const row = height.sub(frameNum.add(1).div(width).ceil());\n    const scale = countNode.reciprocal();\n    const uvFrameOffset = vec2(column, row);\n    return uvNode.add(uvFrameOffset).mul(scale);\n  }\n}\nexport default SpriteSheetUVNode;\nexport const spritesheetUV = nodeProxy(SpriteSheetUVNode);\naddNodeClass('SpriteSheetUVNode', SpriteSheetUVNode);","map":{"version":3,"names":["Node","addNodeClass","uv","nodeProxy","float","vec2","SpriteSheetUVNode","constructor","countNode","uvNode","frameNode","setup","width","height","frameNum","mod","mul","floor","column","row","sub","add","div","ceil","scale","reciprocal","uvFrameOffset","spritesheetUV"],"sources":["/Users/cabrera/Documents/GyroscopeVisualizer/frontend/node_modules/three/examples/jsm/nodes/utils/SpriteSheetUVNode.js"],"sourcesContent":["import Node, { addNodeClass } from '../core/Node.js';\nimport { uv } from '../accessors/UVNode.js';\nimport { nodeProxy, float, vec2 } from '../shadernode/ShaderNode.js';\n\nclass SpriteSheetUVNode extends Node {\n\n\tconstructor( countNode, uvNode = uv(), frameNode = float( 0 ) ) {\n\n\t\tsuper( 'vec2' );\n\n\t\tthis.countNode = countNode;\n\t\tthis.uvNode = uvNode;\n\t\tthis.frameNode = frameNode;\n\n\t}\n\n\tsetup() {\n\n\t\tconst { frameNode, uvNode, countNode } = this;\n\n\t\tconst { width, height } = countNode;\n\n\t\tconst frameNum = frameNode.mod( width.mul( height ) ).floor();\n\n\t\tconst column = frameNum.mod( width );\n\t\tconst row = height.sub( frameNum.add( 1 ).div( width ).ceil() );\n\n\t\tconst scale = countNode.reciprocal();\n\t\tconst uvFrameOffset = vec2( column, row );\n\n\t\treturn uvNode.add( uvFrameOffset ).mul( scale );\n\n\t}\n\n}\n\nexport default SpriteSheetUVNode;\n\nexport const spritesheetUV = nodeProxy( SpriteSheetUVNode );\n\naddNodeClass( 'SpriteSheetUVNode', SpriteSheetUVNode );\n"],"mappings":"AAAA,OAAOA,IAAI,IAAIC,YAAY,QAAQ,iBAAiB;AACpD,SAASC,EAAE,QAAQ,wBAAwB;AAC3C,SAASC,SAAS,EAAEC,KAAK,EAAEC,IAAI,QAAQ,6BAA6B;AAEpE,MAAMC,iBAAiB,SAASN,IAAI,CAAC;EAEpCO,WAAWA,CAAEC,SAAS,EAAEC,MAAM,GAAGP,EAAE,CAAC,CAAC,EAAEQ,SAAS,GAAGN,KAAK,CAAE,CAAE,CAAC,EAAG;IAE/D,KAAK,CAAE,MAAO,CAAC;IAEf,IAAI,CAACI,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,SAAS,GAAGA,SAAS;EAE3B;EAEAC,KAAKA,CAAA,EAAG;IAEP,MAAM;MAAED,SAAS;MAAED,MAAM;MAAED;IAAU,CAAC,GAAG,IAAI;IAE7C,MAAM;MAAEI,KAAK;MAAEC;IAAO,CAAC,GAAGL,SAAS;IAEnC,MAAMM,QAAQ,GAAGJ,SAAS,CAACK,GAAG,CAAEH,KAAK,CAACI,GAAG,CAAEH,MAAO,CAAE,CAAC,CAACI,KAAK,CAAC,CAAC;IAE7D,MAAMC,MAAM,GAAGJ,QAAQ,CAACC,GAAG,CAAEH,KAAM,CAAC;IACpC,MAAMO,GAAG,GAAGN,MAAM,CAACO,GAAG,CAAEN,QAAQ,CAACO,GAAG,CAAE,CAAE,CAAC,CAACC,GAAG,CAAEV,KAAM,CAAC,CAACW,IAAI,CAAC,CAAE,CAAC;IAE/D,MAAMC,KAAK,GAAGhB,SAAS,CAACiB,UAAU,CAAC,CAAC;IACpC,MAAMC,aAAa,GAAGrB,IAAI,CAAEa,MAAM,EAAEC,GAAI,CAAC;IAEzC,OAAOV,MAAM,CAACY,GAAG,CAAEK,aAAc,CAAC,CAACV,GAAG,CAAEQ,KAAM,CAAC;EAEhD;AAED;AAEA,eAAelB,iBAAiB;AAEhC,OAAO,MAAMqB,aAAa,GAAGxB,SAAS,CAAEG,iBAAkB,CAAC;AAE3DL,YAAY,CAAE,mBAAmB,EAAEK,iBAAkB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}