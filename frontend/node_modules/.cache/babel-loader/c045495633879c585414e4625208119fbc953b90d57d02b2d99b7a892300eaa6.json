{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createCamera } from './components/camera.js';\nimport { Cylinder } from './components/cylinder.js';\nimport { createScene } from './components/scene.js';\nimport { Rod } from './components/rod.js';\nimport { createLights } from './components/lights.js';\nimport { createRenderer } from './systems/renderer.js';\nimport * as THREE from 'three';\nimport { Loop } from './systems/Loop.js';\n// import { create } from 'core-js/core/object';\nimport { Resizer } from './systems/Resizer.js';\n\n// These variables are module-scoped: we cannot access them\n// from outside the module\nlet camera;\nlet renderer;\nlet scene;\nlet loop;\nclass gyroscopeAnimation {\n  constructor(container, parameters, state) {\n    this.parameters = parameters; // Affects parameters from parent component\n    this.state = state; // Affects initialState from parent component\n\n    // Create necessary elements, set up renderer, add to container\n    camera = createCamera(container, this.parameters);\n    scene = createScene();\n    renderer = createRenderer();\n    renderer.setSize(container.clientWidth, container.clientHeight);\n    renderer.setPixelRatio(window.devicePixelRatio);\n    loop = new Loop(camera, scene, renderer);\n    container.append(renderer.domElement);\n\n    // Add elements\n    this.light = createLights(this.parameters);\n    this.cylinderHalf = new Cylinder(this.state, parameters, Math.PI, \"blue\");\n    this.cylinderHalf2 = new Cylinder(this.state, parameters, -Math.PI, \"red\");\n    this.rod = new Rod(this.state, this.parameters);\n    loop.updatables.push(this.cylinderHalf);\n    loop.updatables.push(this.cylinderHalf2);\n    loop.updatables.push(this.rod);\n    this.axesHelper = new THREE.AxesHelper(3 / 2 * this.parameters.l.value);\n    this.spotLightHelper = new THREE.SpotLightHelper(this.light);\n\n    // Update cylinder position and orientation\n    this.render();\n    scene.add(this.cylinderHalf.object, this.cylinderHalf2.object, this.rod.object, this.axesHelper, this.light.this.spotLightHelper);\n    const resizer = new Resizer(container, camera, renderer);\n    resizer.onResize = () => {\n      this.render();\n    };\n  }\n  render() {\n    // used to render a single frame\n    renderer.render(scene, camera);\n  }\n  updateSolution(solution) {\n    console.log(\"UPDATE SOLUTION\");\n    loop.solution = solution;\n    loop.start(this.state);\n  }\n  updateParameters(parameters) {\n    console.log(\"UPDATE PARAMS\");\n    loop.stop(this.state);\n    this.parameters = parameters;\n    this.cylinderHalf.changeParameters(this.parameters);\n    this.cylinderHalf2.changeParameters(this.parameters);\n    this.render();\n  }\n  updateState(state) {\n    console.log(\"UPDATE STATE\");\n    loop.stop(this.state);\n    this.state = state;\n    this.cylinderHalf.tick(this.state);\n    this.cylinderHalf2.tick(this.state);\n    this.rod.tick(this.state);\n    this.render();\n  }\n  getCartesian() {\n    // return cartesian coordinates from theta, phi, and psi\n    return {\n      x: this.state.x,\n      y: this.state.y,\n      z: this.state.z\n    };\n  }\n}\nexport { gyroscopeAnimation };","map":{"version":3,"names":["createCamera","Cylinder","createScene","Rod","createLights","createRenderer","THREE","Loop","Resizer","camera","renderer","scene","loop","gyroscopeAnimation","constructor","container","parameters","state","setSize","clientWidth","clientHeight","setPixelRatio","window","devicePixelRatio","append","domElement","light","cylinderHalf","Math","PI","cylinderHalf2","rod","updatables","push","axesHelper","AxesHelper","l","value","spotLightHelper","SpotLightHelper","render","add","object","this","resizer","onResize","updateSolution","solution","console","log","start","updateParameters","stop","changeParameters","updateState","tick","getCartesian","x","y","z"],"sources":["/Users/cabrera/Documents/PortfolioWebiste/frontend/src/gyroscopeRenderer/gyroscopeAnimation.js"],"sourcesContent":["import { createCamera } from './components/camera.js';\nimport { Cylinder } from './components/cylinder.js';\nimport { createScene } from './components/scene.js';\nimport { Rod } from './components/rod.js'\nimport { createLights } from './components/lights.js'\n\nimport { createRenderer } from './systems/renderer.js';\nimport * as THREE from 'three';\nimport { Loop } from './systems/Loop.js'\n// import { create } from 'core-js/core/object';\nimport { Resizer } from './systems/Resizer.js';\n\n// These variables are module-scoped: we cannot access them\n// from outside the module\nlet camera;\nlet renderer;\nlet scene;\nlet loop;\n\nclass gyroscopeAnimation {\n  constructor(container, parameters, state) {\n    this.parameters = parameters // Affects parameters from parent component\n    this.state = state // Affects initialState from parent component\n\n    // Create necessary elements, set up renderer, add to container\n    camera = createCamera(container, this.parameters);\n    scene = createScene();\n    renderer = createRenderer();\n      renderer.setSize(container.clientWidth, container.clientHeight)\n      renderer.setPixelRatio(window.devicePixelRatio)\n    loop = new Loop(camera, scene, renderer)\n\n    container.append(renderer.domElement);\n\n    // Add elements\n    this.light = createLights(this.parameters)\n    this.cylinderHalf = new Cylinder(this.state, parameters, Math.PI, \"blue\")\n    this.cylinderHalf2 = new Cylinder(this.state, parameters, -Math.PI, \"red\")\n    this.rod = new Rod(this.state, this.parameters)\n    loop.updatables.push(this.cylinderHalf)\n    loop.updatables.push(this.cylinderHalf2)\n    loop.updatables.push(this.rod)\n\n    this.axesHelper = new THREE.AxesHelper(3/2 * this.parameters.l.value)\n    this.spotLightHelper = new THREE.SpotLightHelper(this.light)\n\n    // Update cylinder position and orientation\n    this.render()\n    scene.add(this.cylinderHalf.object, this.cylinderHalf2.object, this.rod.object, this.axesHelper, this.light. this.spotLightHelper);\n\n    const resizer = new Resizer(container, camera, renderer);\n    resizer.onResize = () => {\n      this.render();\n    }\n  }\n\n  render() { // used to render a single frame\n    renderer.render(scene, camera);\n  }\n\n  updateSolution(solution){\n    console.log(\"UPDATE SOLUTION\")\n    loop.solution = solution\n    loop.start(this.state)\n  }\n\n  updateParameters(parameters){\n    console.log(\"UPDATE PARAMS\")\n    loop.stop(this.state)\n    this.parameters = parameters\n\n    this.cylinderHalf.changeParameters(this.parameters)\n    this.cylinderHalf2.changeParameters(this.parameters)\n    this.render()\n  }\n\n  updateState(state){\n    console.log(\"UPDATE STATE\")\n    loop.stop(this.state)\n    this.state = state\n\n    this.cylinderHalf.tick(this.state)\n    this.cylinderHalf2.tick(this.state)\n    this.rod.tick(this.state)\n    this.render()\n  }\n\n  getCartesian(){ // return cartesian coordinates from theta, phi, and psi\n    return {x:this.state.x, y:this.state.y, z:this.state.z}\n  }\n\n}\n\nexport { gyroscopeAnimation };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}