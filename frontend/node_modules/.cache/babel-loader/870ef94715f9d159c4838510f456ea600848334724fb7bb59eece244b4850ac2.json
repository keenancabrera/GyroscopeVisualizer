{"ast":null,"code":"import Node, { addNodeClass } from './Node.js';\nimport { varying } from './VaryingNode.js';\nimport { nodeObject } from '../shadernode/ShaderNode.js';\nclass AttributeNode extends Node {\n  constructor(attributeName, nodeType = null) {\n    super(nodeType);\n    this._attributeName = attributeName;\n  }\n  getHash(builder) {\n    return this.getAttributeName(builder);\n  }\n  getNodeType(builder) {\n    let nodeType = super.getNodeType(builder);\n    if (nodeType === null) {\n      const attributeName = this.getAttributeName(builder);\n      if (builder.hasGeometryAttribute(attributeName)) {\n        const attribute = builder.geometry.getAttribute(attributeName);\n        nodeType = builder.getTypeFromAttribute(attribute);\n      } else {\n        nodeType = 'float';\n      }\n    }\n    return nodeType;\n  }\n  setAttributeName(attributeName) {\n    this._attributeName = attributeName;\n    return this;\n  }\n  getAttributeName( /*builder*/\n  ) {\n    return this._attributeName;\n  }\n  generate(builder) {\n    const attributeName = this.getAttributeName(builder);\n    const nodeType = this.getNodeType(builder);\n    const geometryAttribute = builder.hasGeometryAttribute(attributeName);\n    if (geometryAttribute === true) {\n      const attribute = builder.geometry.getAttribute(attributeName);\n      const attributeType = builder.getTypeFromAttribute(attribute);\n      const nodeAttribute = builder.getAttribute(attributeName, attributeType);\n      if (builder.shaderStage === 'vertex') {\n        return builder.format(nodeAttribute.name, attributeType, nodeType);\n      } else {\n        const nodeVarying = varying(this);\n        return nodeVarying.build(builder, nodeType);\n      }\n    } else {\n      console.warn(`AttributeNode: Attribute \"${attributeName}\" not found.`);\n      return builder.getConst(nodeType);\n    }\n  }\n}\nexport default AttributeNode;\nexport const attribute = (name, nodeType) => nodeObject(new AttributeNode(name, nodeType));\naddNodeClass('AttributeNode', AttributeNode);","map":{"version":3,"names":["Node","addNodeClass","varying","nodeObject","AttributeNode","constructor","attributeName","nodeType","_attributeName","getHash","builder","getAttributeName","getNodeType","hasGeometryAttribute","attribute","geometry","getAttribute","getTypeFromAttribute","setAttributeName","generate","geometryAttribute","attributeType","nodeAttribute","shaderStage","format","name","nodeVarying","build","console","warn","getConst"],"sources":["/Users/cabrera/Documents/GyroscopeVisualizer/frontend/node_modules/three/examples/jsm/nodes/core/AttributeNode.js"],"sourcesContent":["import Node, { addNodeClass } from './Node.js';\nimport { varying } from './VaryingNode.js';\nimport { nodeObject } from '../shadernode/ShaderNode.js';\n\nclass AttributeNode extends Node {\n\n\tconstructor( attributeName, nodeType = null ) {\n\n\t\tsuper( nodeType );\n\n\t\tthis._attributeName = attributeName;\n\n\t}\n\n\tgetHash( builder ) {\n\n\t\treturn this.getAttributeName( builder );\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\tlet nodeType = super.getNodeType( builder );\n\n\t\tif ( nodeType === null ) {\n\n\t\t\tconst attributeName = this.getAttributeName( builder );\n\n\t\t\tif ( builder.hasGeometryAttribute( attributeName ) ) {\n\n\t\t\t\tconst attribute = builder.geometry.getAttribute( attributeName );\n\n\t\t\t\tnodeType = builder.getTypeFromAttribute( attribute );\n\n\t\t\t} else {\n\n\t\t\t\tnodeType = 'float';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn nodeType;\n\n\t}\n\n\tsetAttributeName( attributeName ) {\n\n\t\tthis._attributeName = attributeName;\n\n\t\treturn this;\n\n\t}\n\n\tgetAttributeName( /*builder*/ ) {\n\n\t\treturn this._attributeName;\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tconst attributeName = this.getAttributeName( builder );\n\t\tconst nodeType = this.getNodeType( builder );\n\t\tconst geometryAttribute = builder.hasGeometryAttribute( attributeName );\n\n\t\tif ( geometryAttribute === true ) {\n\n\t\t\tconst attribute = builder.geometry.getAttribute( attributeName );\n\t\t\tconst attributeType = builder.getTypeFromAttribute( attribute );\n\n\t\t\tconst nodeAttribute = builder.getAttribute( attributeName, attributeType );\n\n\t\t\tif ( builder.shaderStage === 'vertex' ) {\n\n\t\t\t\treturn builder.format( nodeAttribute.name, attributeType, nodeType );\n\n\t\t\t} else {\n\n\t\t\t\tconst nodeVarying = varying( this );\n\n\t\t\t\treturn nodeVarying.build( builder, nodeType );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( `AttributeNode: Attribute \"${ attributeName }\" not found.` );\n\n\t\t\treturn builder.getConst( nodeType );\n\n\t\t}\n\n\t}\n\n}\n\nexport default AttributeNode;\n\nexport const attribute = ( name, nodeType ) => nodeObject( new AttributeNode( name, nodeType ) );\n\naddNodeClass( 'AttributeNode', AttributeNode );\n"],"mappings":"AAAA,OAAOA,IAAI,IAAIC,YAAY,QAAQ,WAAW;AAC9C,SAASC,OAAO,QAAQ,kBAAkB;AAC1C,SAASC,UAAU,QAAQ,6BAA6B;AAExD,MAAMC,aAAa,SAASJ,IAAI,CAAC;EAEhCK,WAAWA,CAAEC,aAAa,EAAEC,QAAQ,GAAG,IAAI,EAAG;IAE7C,KAAK,CAAEA,QAAS,CAAC;IAEjB,IAAI,CAACC,cAAc,GAAGF,aAAa;EAEpC;EAEAG,OAAOA,CAAEC,OAAO,EAAG;IAElB,OAAO,IAAI,CAACC,gBAAgB,CAAED,OAAQ,CAAC;EAExC;EAEAE,WAAWA,CAAEF,OAAO,EAAG;IAEtB,IAAIH,QAAQ,GAAG,KAAK,CAACK,WAAW,CAAEF,OAAQ,CAAC;IAE3C,IAAKH,QAAQ,KAAK,IAAI,EAAG;MAExB,MAAMD,aAAa,GAAG,IAAI,CAACK,gBAAgB,CAAED,OAAQ,CAAC;MAEtD,IAAKA,OAAO,CAACG,oBAAoB,CAAEP,aAAc,CAAC,EAAG;QAEpD,MAAMQ,SAAS,GAAGJ,OAAO,CAACK,QAAQ,CAACC,YAAY,CAAEV,aAAc,CAAC;QAEhEC,QAAQ,GAAGG,OAAO,CAACO,oBAAoB,CAAEH,SAAU,CAAC;MAErD,CAAC,MAAM;QAENP,QAAQ,GAAG,OAAO;MAEnB;IAED;IAEA,OAAOA,QAAQ;EAEhB;EAEAW,gBAAgBA,CAAEZ,aAAa,EAAG;IAEjC,IAAI,CAACE,cAAc,GAAGF,aAAa;IAEnC,OAAO,IAAI;EAEZ;EAEAK,gBAAgBA,CAAA,CAAE;EAAA,EAAc;IAE/B,OAAO,IAAI,CAACH,cAAc;EAE3B;EAEAW,QAAQA,CAAET,OAAO,EAAG;IAEnB,MAAMJ,aAAa,GAAG,IAAI,CAACK,gBAAgB,CAAED,OAAQ,CAAC;IACtD,MAAMH,QAAQ,GAAG,IAAI,CAACK,WAAW,CAAEF,OAAQ,CAAC;IAC5C,MAAMU,iBAAiB,GAAGV,OAAO,CAACG,oBAAoB,CAAEP,aAAc,CAAC;IAEvE,IAAKc,iBAAiB,KAAK,IAAI,EAAG;MAEjC,MAAMN,SAAS,GAAGJ,OAAO,CAACK,QAAQ,CAACC,YAAY,CAAEV,aAAc,CAAC;MAChE,MAAMe,aAAa,GAAGX,OAAO,CAACO,oBAAoB,CAAEH,SAAU,CAAC;MAE/D,MAAMQ,aAAa,GAAGZ,OAAO,CAACM,YAAY,CAAEV,aAAa,EAAEe,aAAc,CAAC;MAE1E,IAAKX,OAAO,CAACa,WAAW,KAAK,QAAQ,EAAG;QAEvC,OAAOb,OAAO,CAACc,MAAM,CAAEF,aAAa,CAACG,IAAI,EAAEJ,aAAa,EAAEd,QAAS,CAAC;MAErE,CAAC,MAAM;QAEN,MAAMmB,WAAW,GAAGxB,OAAO,CAAE,IAAK,CAAC;QAEnC,OAAOwB,WAAW,CAACC,KAAK,CAAEjB,OAAO,EAAEH,QAAS,CAAC;MAE9C;IAED,CAAC,MAAM;MAENqB,OAAO,CAACC,IAAI,CAAG,6BAA6BvB,aAAe,cAAc,CAAC;MAE1E,OAAOI,OAAO,CAACoB,QAAQ,CAAEvB,QAAS,CAAC;IAEpC;EAED;AAED;AAEA,eAAeH,aAAa;AAE5B,OAAO,MAAMU,SAAS,GAAGA,CAAEW,IAAI,EAAElB,QAAQ,KAAMJ,UAAU,CAAE,IAAIC,aAAa,CAAEqB,IAAI,EAAElB,QAAS,CAAE,CAAC;AAEhGN,YAAY,CAAE,eAAe,EAAEG,aAAc,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}