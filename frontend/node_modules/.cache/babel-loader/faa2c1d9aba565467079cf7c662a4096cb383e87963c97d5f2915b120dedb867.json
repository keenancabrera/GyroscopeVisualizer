{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.unshift.js\";\nimport { LightsNode } from '../../nodes/Nodes.js';\nfunction painterSortStable(a, b) {\n  if (a.groupOrder !== b.groupOrder) {\n    return a.groupOrder - b.groupOrder;\n  } else if (a.renderOrder !== b.renderOrder) {\n    return a.renderOrder - b.renderOrder;\n  } else if (a.material.id !== b.material.id) {\n    return a.material.id - b.material.id;\n  } else if (a.z !== b.z) {\n    return a.z - b.z;\n  } else {\n    return a.id - b.id;\n  }\n}\nfunction reversePainterSortStable(a, b) {\n  if (a.groupOrder !== b.groupOrder) {\n    return a.groupOrder - b.groupOrder;\n  } else if (a.renderOrder !== b.renderOrder) {\n    return a.renderOrder - b.renderOrder;\n  } else if (a.z !== b.z) {\n    return b.z - a.z;\n  } else {\n    return a.id - b.id;\n  }\n}\nclass RenderList {\n  constructor() {\n    this.renderItems = [];\n    this.renderItemsIndex = 0;\n    this.opaque = [];\n    this.transparent = [];\n    this.lightsNode = new LightsNode([]);\n    this.lightsArray = [];\n    this.occlusionQueryCount = 0;\n  }\n  begin() {\n    this.renderItemsIndex = 0;\n    this.opaque.length = 0;\n    this.transparent.length = 0;\n    this.lightsArray.length = 0;\n    this.occlusionQueryCount = 0;\n    return this;\n  }\n  getNextRenderItem(object, geometry, material, groupOrder, z, group) {\n    let renderItem = this.renderItems[this.renderItemsIndex];\n    if (renderItem === undefined) {\n      renderItem = {\n        id: object.id,\n        object: object,\n        geometry: geometry,\n        material: material,\n        groupOrder: groupOrder,\n        renderOrder: object.renderOrder,\n        z: z,\n        group: group\n      };\n      this.renderItems[this.renderItemsIndex] = renderItem;\n    } else {\n      renderItem.id = object.id;\n      renderItem.object = object;\n      renderItem.geometry = geometry;\n      renderItem.material = material;\n      renderItem.groupOrder = groupOrder;\n      renderItem.renderOrder = object.renderOrder;\n      renderItem.z = z;\n      renderItem.group = group;\n    }\n    this.renderItemsIndex++;\n    return renderItem;\n  }\n  push(object, geometry, material, groupOrder, z, group) {\n    const renderItem = this.getNextRenderItem(object, geometry, material, groupOrder, z, group);\n    if (object.occlusionTest === true) this.occlusionQueryCount++;\n    (material.transparent === true ? this.transparent : this.opaque).push(renderItem);\n  }\n  unshift(object, geometry, material, groupOrder, z, group) {\n    const renderItem = this.getNextRenderItem(object, geometry, material, groupOrder, z, group);\n    (material.transparent === true ? this.transparent : this.opaque).unshift(renderItem);\n  }\n  pushLight(light) {\n    this.lightsArray.push(light);\n  }\n  getLightsNode() {\n    return this.lightsNode.fromLights(this.lightsArray);\n  }\n  sort(customOpaqueSort, customTransparentSort) {\n    if (this.opaque.length > 1) this.opaque.sort(customOpaqueSort || painterSortStable);\n    if (this.transparent.length > 1) this.transparent.sort(customTransparentSort || reversePainterSortStable);\n  }\n  finish() {\n    // update lights\n\n    this.lightsNode.fromLights(this.lightsArray);\n\n    // Clear references from inactive renderItems in the list\n\n    for (let i = this.renderItemsIndex, il = this.renderItems.length; i < il; i++) {\n      const renderItem = this.renderItems[i];\n      if (renderItem.id === null) break;\n      renderItem.id = null;\n      renderItem.object = null;\n      renderItem.geometry = null;\n      renderItem.material = null;\n      renderItem.groupOrder = null;\n      renderItem.renderOrder = null;\n      renderItem.z = null;\n      renderItem.group = null;\n    }\n  }\n}\nexport default RenderList;","map":{"version":3,"names":["LightsNode","painterSortStable","a","b","groupOrder","renderOrder","material","id","z","reversePainterSortStable","RenderList","constructor","renderItems","renderItemsIndex","opaque","transparent","lightsNode","lightsArray","occlusionQueryCount","begin","length","getNextRenderItem","object","geometry","group","renderItem","undefined","push","occlusionTest","unshift","pushLight","light","getLightsNode","fromLights","sort","customOpaqueSort","customTransparentSort","finish","i","il"],"sources":["/Users/cabrera/Documents/GyroscopeVisualizer/frontend/node_modules/three/examples/jsm/renderers/common/RenderList.js"],"sourcesContent":["import { LightsNode } from '../../nodes/Nodes.js';\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nclass RenderList {\n\n\tconstructor() {\n\n\t\tthis.renderItems = [];\n\t\tthis.renderItemsIndex = 0;\n\n\t\tthis.opaque = [];\n\t\tthis.transparent = [];\n\n\t\tthis.lightsNode = new LightsNode( [] );\n\t\tthis.lightsArray = [];\n\n\t\tthis.occlusionQueryCount = 0;\n\n\t}\n\n\tbegin() {\n\n\t\tthis.renderItemsIndex = 0;\n\n\t\tthis.opaque.length = 0;\n\t\tthis.transparent.length = 0;\n\t\tthis.lightsArray.length = 0;\n\n\t\tthis.occlusionQueryCount = 0;\n\n\t\treturn this;\n\n\t}\n\n\tgetNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tlet renderItem = this.renderItems[ this.renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\tthis.renderItems[ this.renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\tthis.renderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tpush( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = this.getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\tif ( object.occlusionTest === true ) this.occlusionQueryCount ++;\n\n\t\t( material.transparent === true ? this.transparent : this.opaque ).push( renderItem );\n\n\t}\n\n\tunshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = this.getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? this.transparent : this.opaque ).unshift( renderItem );\n\n\t}\n\n\tpushLight( light ) {\n\n\t\tthis.lightsArray.push( light );\n\n\t}\n\n\tgetLightsNode() {\n\n\t\treturn this.lightsNode.fromLights( this.lightsArray );\n\n\t}\n\n\tsort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( this.opaque.length > 1 ) this.opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( this.transparent.length > 1 ) this.transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfinish() {\n\n\t\t// update lights\n\n\t\tthis.lightsNode.fromLights( this.lightsArray );\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( let i = this.renderItemsIndex, il = this.renderItems.length; i < il; i ++ ) {\n\n\t\t\tconst renderItem = this.renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.groupOrder = null;\n\t\t\trenderItem.renderOrder = null;\n\t\t\trenderItem.z = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n}\n\nexport default RenderList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}