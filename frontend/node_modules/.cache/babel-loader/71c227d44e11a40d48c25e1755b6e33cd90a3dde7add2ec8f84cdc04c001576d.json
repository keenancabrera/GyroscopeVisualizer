{"ast":null,"code":"import DataMap from './DataMap.js';\nimport { AttributeType } from './Constants.js';\nimport { DynamicDrawUsage } from 'three';\nclass Attributes extends DataMap {\n  constructor(backend) {\n    super();\n    this.backend = backend;\n  }\n  delete(attribute) {\n    const attributeData = super.delete(attribute);\n    if (attributeData !== undefined) {\n      this.backend.destroyAttribute(attribute);\n    }\n  }\n  update(attribute, type) {\n    const data = this.get(attribute);\n    if (data.version === undefined) {\n      if (type === AttributeType.VERTEX) {\n        this.backend.createAttribute(attribute);\n      } else if (type === AttributeType.INDEX) {\n        this.backend.createIndexAttribute(attribute);\n      } else if (type === AttributeType.STORAGE) {\n        this.backend.createStorageAttribute(attribute);\n      }\n      data.version = this._getBufferAttribute(attribute).version;\n    } else {\n      const bufferAttribute = this._getBufferAttribute(attribute);\n      if (data.version < bufferAttribute.version || bufferAttribute.usage === DynamicDrawUsage) {\n        this.backend.updateAttribute(attribute);\n        data.version = bufferAttribute.version;\n      }\n    }\n  }\n  _getBufferAttribute(attribute) {\n    if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n    return attribute;\n  }\n}\nexport default Attributes;","map":{"version":3,"names":["DataMap","AttributeType","DynamicDrawUsage","Attributes","constructor","backend","delete","attribute","attributeData","undefined","destroyAttribute","update","type","data","get","version","VERTEX","createAttribute","INDEX","createIndexAttribute","STORAGE","createStorageAttribute","_getBufferAttribute","bufferAttribute","usage","updateAttribute","isInterleavedBufferAttribute"],"sources":["/Users/cabrera/Documents/GyroscopeVisualizer/frontend/node_modules/three/examples/jsm/renderers/common/Attributes.js"],"sourcesContent":["import DataMap from './DataMap.js';\nimport { AttributeType } from './Constants.js';\nimport { DynamicDrawUsage } from 'three';\n\nclass Attributes extends DataMap {\n\n\tconstructor( backend ) {\n\n\t\tsuper();\n\n\t\tthis.backend = backend;\n\n\t}\n\n\tdelete( attribute ) {\n\n\t\tconst attributeData = super.delete( attribute );\n\n\t\tif ( attributeData !== undefined ) {\n\n\t\t\tthis.backend.destroyAttribute( attribute );\n\n\t\t}\n\n\t}\n\n\tupdate( attribute, type ) {\n\n\t\tconst data = this.get( attribute );\n\n\t\tif ( data.version === undefined ) {\n\n\t\t\tif ( type === AttributeType.VERTEX ) {\n\n\t\t\t\tthis.backend.createAttribute( attribute );\n\n\t\t\t} else if ( type === AttributeType.INDEX ) {\n\n\t\t\t\tthis.backend.createIndexAttribute( attribute );\n\n\t\t\t} else if ( type === AttributeType.STORAGE ) {\n\n\t\t\t\tthis.backend.createStorageAttribute( attribute );\n\n\t\t\t}\n\n\t\t\tdata.version = this._getBufferAttribute( attribute ).version;\n\n\t\t} else {\n\n\t\t\tconst bufferAttribute = this._getBufferAttribute( attribute );\n\n\t\t\tif ( data.version < bufferAttribute.version || bufferAttribute.usage === DynamicDrawUsage ) {\n\n\t\t\t\tthis.backend.updateAttribute( attribute );\n\n\t\t\t\tdata.version = bufferAttribute.version;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_getBufferAttribute( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn attribute;\n\n\t}\n\n}\n\nexport default Attributes;\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,cAAc;AAClC,SAASC,aAAa,QAAQ,gBAAgB;AAC9C,SAASC,gBAAgB,QAAQ,OAAO;AAExC,MAAMC,UAAU,SAASH,OAAO,CAAC;EAEhCI,WAAWA,CAAEC,OAAO,EAAG;IAEtB,KAAK,CAAC,CAAC;IAEP,IAAI,CAACA,OAAO,GAAGA,OAAO;EAEvB;EAEAC,MAAMA,CAAEC,SAAS,EAAG;IAEnB,MAAMC,aAAa,GAAG,KAAK,CAACF,MAAM,CAAEC,SAAU,CAAC;IAE/C,IAAKC,aAAa,KAAKC,SAAS,EAAG;MAElC,IAAI,CAACJ,OAAO,CAACK,gBAAgB,CAAEH,SAAU,CAAC;IAE3C;EAED;EAEAI,MAAMA,CAAEJ,SAAS,EAAEK,IAAI,EAAG;IAEzB,MAAMC,IAAI,GAAG,IAAI,CAACC,GAAG,CAAEP,SAAU,CAAC;IAElC,IAAKM,IAAI,CAACE,OAAO,KAAKN,SAAS,EAAG;MAEjC,IAAKG,IAAI,KAAKX,aAAa,CAACe,MAAM,EAAG;QAEpC,IAAI,CAACX,OAAO,CAACY,eAAe,CAAEV,SAAU,CAAC;MAE1C,CAAC,MAAM,IAAKK,IAAI,KAAKX,aAAa,CAACiB,KAAK,EAAG;QAE1C,IAAI,CAACb,OAAO,CAACc,oBAAoB,CAAEZ,SAAU,CAAC;MAE/C,CAAC,MAAM,IAAKK,IAAI,KAAKX,aAAa,CAACmB,OAAO,EAAG;QAE5C,IAAI,CAACf,OAAO,CAACgB,sBAAsB,CAAEd,SAAU,CAAC;MAEjD;MAEAM,IAAI,CAACE,OAAO,GAAG,IAAI,CAACO,mBAAmB,CAAEf,SAAU,CAAC,CAACQ,OAAO;IAE7D,CAAC,MAAM;MAEN,MAAMQ,eAAe,GAAG,IAAI,CAACD,mBAAmB,CAAEf,SAAU,CAAC;MAE7D,IAAKM,IAAI,CAACE,OAAO,GAAGQ,eAAe,CAACR,OAAO,IAAIQ,eAAe,CAACC,KAAK,KAAKtB,gBAAgB,EAAG;QAE3F,IAAI,CAACG,OAAO,CAACoB,eAAe,CAAElB,SAAU,CAAC;QAEzCM,IAAI,CAACE,OAAO,GAAGQ,eAAe,CAACR,OAAO;MAEvC;IAED;EAED;EAEAO,mBAAmBA,CAAEf,SAAS,EAAG;IAEhC,IAAKA,SAAS,CAACmB,4BAA4B,EAAGnB,SAAS,GAAGA,SAAS,CAACM,IAAI;IAExE,OAAON,SAAS;EAEjB;AAED;AAEA,eAAeJ,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}