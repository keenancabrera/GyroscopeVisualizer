{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createCamera } from './components/camera.js';\nimport { Cylinder } from './components/cylinder.js';\nimport { createScene } from './components/scene.js';\n// import { Rod } from './components/rod.js'\nimport { createLights } from './components/lights.js';\n// import { createFloor } from './components/floor.js'\n\nimport { createRenderer } from './systems/renderer.js';\nimport { Loop } from './systems/Loop.js';\nimport { createControls } from './systems/OrbitControls.js';\nimport { Resizer } from './systems/Resizer.js';\n// import { lights } from 'three/examples/jsm/nodes/Nodes.js'\n\n// import * as THREE from 'three'; // Enable for using axes and light helpers\n\n// These variables are module-scoped: we cannot access them\n// from outside the module\nlet camera;\nlet renderer;\nlet scene;\nlet loop;\nlet controls;\nclass gyroscopeAnimation {\n  constructor(container, parameters, state) {\n    this.parameters = parameters; // Affects parameters from parent component\n    this.state = state; // Affects initialState from parent component\n\n    // Create necessary elements, set up renderer, add to container\n    camera = createCamera(container, this.parameters);\n    scene = createScene();\n    renderer = createRenderer();\n    renderer.setSize(container.clientWidth, container.clientHeight);\n    renderer.setPixelRatio(window.devicePixelRatio);\n    container.append(renderer.domElement);\n    const resizer = new Resizer(container, camera, renderer);\n    resizer.onResize = () => {\n      this.render();\n    };\n    controls = createControls(camera, renderer.domElement);\n    controls.listenToKeyEvents(container);\n    loop = new Loop(camera, scene, renderer, controls)\n\n    // Add elements\n    ;\n    [this.spotLight, this.ambientLight] = createLights(this.parameters);\n    // this.floor = createFloor(this.parameters)\n    this.cylinderHalf = new Cylinder(this.state, parameters, 0, \"blue\");\n    // console.log(this.cylinderHalf.material)\n    // this.cylinderHalf.material.lightsNode = lights([this.spotLight, this.ambientLight])\n    this.cylinderHalf2 = new Cylinder(this.state, parameters, Math.PI, \"red\");\n    // this.cylinderHalf2.material.lightsNode = lights([this.spotLight, this.ambientLight])\n    // this.rod = new Rod(this.state, this.parameters)\n    loop.updatables.push(this.cylinderHalf);\n    loop.updatables.push(this.cylinderHalf2);\n    // loop.updatables.push(this.rod)\n\n    // this.axesHelper = new THREE.AxesHelper(3/2 * this.parameters.l.value)\n    // this.spotLightHelper = new THREE.SpotLightHelper(this.light)\n\n    // Update cylinder position and orientation\n    scene.add(this.cylinderHalf.object, this.cylinderHalf2.object, this.spotLight, this.ambientLight);\n    renderer.setAnimationLoop(loop.animate);\n  }\n  render() {\n    // used to render a single frame\n    renderer.render(scene, camera);\n  }\n  updateSolution(solution) {\n    loop.solution = solution;\n    loop.start(this.state);\n  }\n  updateParameters(parameters) {\n    this.parameters = parameters;\n    loop.Pause(this.state);\n    this.cylinderHalf.changeParameters(this.parameters);\n    this.cylinderHalf2.changeParameters(this.parameters);\n    this.render();\n  }\n  updateState(state) {\n    this.state = state;\n    loop.Pause(this.state);\n    this.cylinderHalf.tick(this.state);\n    this.cylinderHalf2.tick(this.state);\n    // this.rod.tick(this.state)\n    this.render();\n  }\n}\nexport { gyroscopeAnimation };","map":{"version":3,"names":["createCamera","Cylinder","createScene","createLights","createRenderer","Loop","createControls","Resizer","camera","renderer","scene","loop","controls","gyroscopeAnimation","constructor","container","parameters","state","setSize","clientWidth","clientHeight","setPixelRatio","window","devicePixelRatio","append","domElement","resizer","onResize","render","listenToKeyEvents","spotLight","ambientLight","cylinderHalf","cylinderHalf2","Math","PI","updatables","push","add","object","setAnimationLoop","animate","updateSolution","solution","start","updateParameters","Pause","changeParameters","updateState","tick"],"sources":["/Users/cabrera/Documents/GyroscopeVisualizer/frontend/src/gyroscopeRenderer/gyroscopeAnimation.js"],"sourcesContent":["import { createCamera } from './components/camera.js';\nimport { Cylinder } from './components/cylinder.js';\nimport { createScene } from './components/scene.js';\n// import { Rod } from './components/rod.js'\nimport { createLights } from './components/lights.js'\n// import { createFloor } from './components/floor.js'\n\nimport { createRenderer } from './systems/renderer.js';\nimport { Loop } from './systems/Loop.js'\nimport { createControls } from './systems/OrbitControls.js'\nimport { Resizer } from './systems/Resizer.js';\n// import { lights } from 'three/examples/jsm/nodes/Nodes.js'\n\n// import * as THREE from 'three'; // Enable for using axes and light helpers\n\n// These variables are module-scoped: we cannot access them\n// from outside the module\nlet camera;\nlet renderer;\nlet scene;\nlet loop;\nlet controls\n\nclass gyroscopeAnimation {\n  constructor(container, parameters, state) {\n    this.parameters = parameters // Affects parameters from parent component\n    this.state = state // Affects initialState from parent component\n\n    // Create necessary elements, set up renderer, add to container\n    camera = createCamera(container, this.parameters);\n    scene = createScene();\n    renderer = createRenderer();\n      renderer.setSize(container.clientWidth, container.clientHeight)\n      renderer.setPixelRatio(window.devicePixelRatio)\n      container.append(renderer.domElement);\n\n    const resizer = new Resizer(container, camera, renderer);\n    resizer.onResize = () => {\n      this.render();\n    }    \n    controls = createControls(camera, renderer.domElement)\n    controls.listenToKeyEvents(container)\n    loop = new Loop(camera, scene, renderer, controls)\n\n\n    // Add elements\n    ;[this.spotLight, this.ambientLight] = createLights(this.parameters)\n    // this.floor = createFloor(this.parameters)\n    this.cylinderHalf = new Cylinder(this.state, parameters, 0, \"blue\")\n    // console.log(this.cylinderHalf.material)\n      // this.cylinderHalf.material.lightsNode = lights([this.spotLight, this.ambientLight])\n    this.cylinderHalf2 = new Cylinder(this.state, parameters, Math.PI, \"red\")\n      // this.cylinderHalf2.material.lightsNode = lights([this.spotLight, this.ambientLight])\n    // this.rod = new Rod(this.state, this.parameters)\n    loop.updatables.push(this.cylinderHalf)\n    loop.updatables.push(this.cylinderHalf2)\n    // loop.updatables.push(this.rod)\n\n    // this.axesHelper = new THREE.AxesHelper(3/2 * this.parameters.l.value)\n    // this.spotLightHelper = new THREE.SpotLightHelper(this.light)\n\n    // Update cylinder position and orientation\n    scene.add(this.cylinderHalf.object,this.cylinderHalf2.object, this.spotLight, this.ambientLight);\n    renderer.setAnimationLoop(loop.animate)\n  }\n\n  render() { // used to render a single frame\n    renderer.render(scene, camera)\n  }\n\n  updateSolution(solution){\n    loop.solution = solution\n    loop.start(this.state)\n  }\n\n  updateParameters(parameters){\n    this.parameters = parameters\n    loop.Pause(this.state)\n    this.cylinderHalf.changeParameters(this.parameters)\n    this.cylinderHalf2.changeParameters(this.parameters)\n    this.render()\n  }\n\n  updateState(state){\n    this.state = state\n    loop.Pause(this.state)\n    this.cylinderHalf.tick(this.state)\n    this.cylinderHalf2.tick(this.state)\n    // this.rod.tick(this.state)\n    this.render()\n  }\n}\n\nexport { gyroscopeAnimation };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}