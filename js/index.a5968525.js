(function(){"use strict";var t={6236:function(t,e,a){var i=a(9242),s=a(3396),r=a(7139);const n={key:0};function l(t,e,a,i,l,o){const u=(0,s.up)("v-card-title"),h=(0,s.up)("v-card-subtitle"),c=(0,s.up)("v-card-item"),m=(0,s.up)("v-slider"),d=(0,s.up)("v-card-text"),p=(0,s.up)("v-card"),v=(0,s.up)("v-btn"),f=(0,s.up)("v-col"),w=(0,s.up)("gyroscopeSimulator"),g=(0,s.up)("v-sheet"),b=(0,s.up)("v-row"),y=(0,s.up)("v-container"),S=(0,s.up)("v-main"),P=(0,s.up)("v-app");return(0,s.wg)(),(0,s.j4)(P,{id:"gyro"},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{class:"bg-grey-lighten-3"},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{fluid:!0,class:"ma-0 pa-2 v-flex full-width"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(f,{cols:"4"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{rounded:"lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"mb-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Parameters")])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Set dimensions of gyroscope and strength of gravity")])),_:1})])),_:1}),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.parameters,((t,e)=>((0,s.wg)(),(0,s.j4)(m,{min:t.min,max:t.max,"thumb-label":"always",modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,key:e,class:"mt-2"},{prepend:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(t.symbol)+" : ",1)])),_:2},1032,["min","max","modelValue","onUpdate:modelValue"])))),128))])),_:1})])),_:1}),(0,s.Wm)(p,{rounded:"lg",class:"mt-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"mb-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Initial State")])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Set initial state of gyroscope")])),_:1})])),_:1}),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.initialState,((t,e)=>((0,s.wg)(),(0,s.j4)(m,{min:t.min,max:t.max,"thumb-label":"always",modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,key:e,class:"mt-2"},{prepend:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(t.symbol)+" ",1),t.subscript?((0,s.wg)(),(0,s.iD)("sub",n,(0,r.zw)(t.subscript),1)):(0,s.kq)("",!0),(0,s.Uk)(" : ")])),_:2},1032,["min","max","modelValue","onUpdate:modelValue"])))),128))])),_:1})])),_:1}),(0,s.Wm)(v,{block:"",variant:"outlined",class:"mt-2",onClick:e[0]||(e[0]=t=>o.runSolver())},{default:(0,s.w5)((()=>[(0,s.Uk)(" Simulate ")])),_:1})])),_:1}),(0,s.Wm)(f,{cols:"8"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{rounded:"lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{solution:t.solution,parameters:t.parameters,state:o.computedState},null,8,["solution","parameters","state"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}a(560);const o={ref:"sceneContainer",class:"scene-container"};function u(t,e,a,i,r,n){return(0,s.wg)(),(0,s.iD)("div",o,null,512)}var h=a(1114);function c(t,e){const a=new h.cPb(75,t.clientWidth/t.clientHeight,.1,1e3);return a.up.set(0,0,1),a.position.set(1.5*e.l.max,1.5*e.l.max,1.5*e.l.max),a.lookAt(0,0,0),a}class m{constructor(t,e,a,i){this.thetaStart=a,this.oldPsi=t.psi,this.parameters=e,this.oldPosition=new h.Pa4;let s=new h.fHI(e.a.value,e.a.value,e.h.value,32,1,!1,a,Math.PI),r=new h.YBo({color:i});this.cylinder=new h.Kj0(s,r),this.cylinder.castShadow=!0,this.cylinder.rotation.set(Math.PI/2,0,0),this.cylinder.position.set(0,0,this.parameters.l.value),this.cylinder.getWorldPosition(this.oldPosition),this.tick(t)}get object(){return this.cylinder}changeParameters(t){let e=new h.fHI(t.a.value,t.a.value,t.h.value,32,1,!1,this.thetaStart,Math.PI);this.cylinder.geometry.dispose(),this.cylinder.geometry=e}tick(t,e=!0){if(0==e)return void this.cylinder.position.set(t["x"],t["y"],t["z"]);let a=new h.Pa4(t["x"],t["y"],t["z"]),i=this.oldPosition.angleTo(a),s=a.clone().sub(this.oldPosition),r=(new h.Pa4).crossVectors(s,this.oldPosition);this.cylinder.position.set(t["x"],t["y"],t["z"]),this.cylinder.rotateOnWorldAxis(r.normalize(),-i),this.cylinder.rotateOnWorldAxis(a.normalize(),t["psi"]-this.oldPsi),this.oldPosition=a.clone(),this.oldPsi=t["psi"]}}function d(){const t=new h.xsS;return t.background=null,t}a(4224),a(1121),a(7133);class p{constructor(t,e){this.parameters=e,this.verticies=new Float32Array([0,0,0,t["x"]*(e.l.max/e.l.value),t["y"]*(e.l.max/e.l.value),t["z"]*(e.l.max/e.l.value)]);let a=new h.nls({color:"white",linewidth:1}),i=new h.u9r;this.rod=new h.x12(i,a),this.rod.geometry.setAttribute("position",new h.TlE(this.verticies,3))}get object(){return this.rod}tick(t){this.verticies[3]=t["x"]*(this.parameters.l.max/this.parameters.l.value),this.verticies[4]=t["y"]*(this.parameters.l.max/this.parameters.l.value),this.verticies[5]=t["z"]*(this.parameters.l.max/this.parameters.l.value),this.rod.geometry.setAttribute("position",new h.TlE(this.verticies,3))}}function v(t){let e=new h.PMe(16777215,1,0,Math.PI/5,0);e.position.set(0,0,2*t.l.max),e.castShadow=!0,e.shadow.mapSize.width=1024,e.shadow.mapSize.height=1024,e.shadow.camera.near=.1,e.shadow.camera.far=4*t.l.max;let a=new h.vmT("white","black",.2);return[e,a]}function f(t){let e=new h.zf8(2*t.l.max*Math.tan(Math.PI/5),500),a=new h.YBo({color:"gray",side:h.ehD});e.translate(0,0,1.1*-t.l.max);let i=new h.Kj0(e,a);return i.receiveShadow=!0,i}function w(){const t=new h.CP7;return t.useLegacyLights=!0,t.shadowMap.enabled=!0,t}const g=new h.SUY;class b{constructor(t,e,a,i){this.camera=t,this.scene=e,this.renderer=a,this.controls=i,this.updatables=[],this.solution=[],this.i=0,this.isPaused=!1,this.stepSize=1/240}start(t){this.i=0,this.isPaused=!1;let e=this.solution.length;g.getDelta(),this.renderer.setAnimationLoop((()=>{this.i<e&&0==this.isPaused&&this.tick(),this.i>=e&&0==this.isPaused&&this.Pause(t),this.controls.update(),this.renderer.render(this.scene,this.camera)}))}Pause(t){this.isPaused=!0;for(const e of this.updatables)e.tick(t);this.renderer.render(this.scene,this.camera)}tick(){let t=g.getDelta();for(const e of this.updatables)e.tick(this.solution[this.i]);this.i+=Math.round(t/this.stepSize)}}var y=a(4543);function S(t,e){const a=new y.z(t,e);return a}const P=(t,e,a)=>{e.aspect=t.clientWidth/t.clientHeight,e.updateProjectionMatrix(),a.setSize(t.clientWidth,t.clientHeight),a.setPixelRatio(window.devicePixelRatio)};class x{constructor(t,e,a){P(t,e,a),window.addEventListener("resize",(()=>{P(t,e,a),this.onResize()}))}onResize(){}}let k,M,z,_,W;class j{constructor(t,e,a){this.parameters=e,this.state=a,k=c(t,this.parameters),z=d(),M=w(),M.setSize(t.clientWidth,t.clientHeight),M.setPixelRatio(window.devicePixelRatio),t.append(M.domElement);const i=new x(t,k,M);i.onResize=()=>{this.render()},W=S(k,M.domElement),W.listenToKeyEvents(t),_=new b(k,z,M,W),[this.light,this.ambientLight]=v(this.parameters),this.floor=f(this.parameters),this.blueHalf=new m(this.state,e,0,"cornflowerblue"),this.redHalf=new m(this.state,e,Math.PI,"crimson"),this.rod=new p(this.state,this.parameters),_.updatables.push(this.blueHalf),_.updatables.push(this.redHalf),_.updatables.push(this.rod),this.axesHelper=new h.y8_(1.5*this.parameters.l.value),this.spotLightHelper=new h.FvO(this.light),z.add(this.blueHalf.object,this.redHalf.object,this.rod.object,this.light,this.ambientLight,this.floor),_.start(this.state)}render(){M.render(z,k)}updateSolution(t){_.solution=t,_.start(this.state)}updateParameters(t){this.parameters=t,_.isPaused=!0,this.blueHalf.changeParameters(this.parameters),this.redHalf.changeParameters(this.parameters)}updateState(t){this.state=t,_.isPaused=!0,this.blueHalf.tick(this.state),this.redHalf.tick(this.state),this.rod.tick(this.state)}}var O={name:"gyroscopeSimulator",props:{solution:Object,parameters:Object,state:Object},watch:{solution:{handler(){this.gyroscopeAnimation.updateSolution(this.solution)},deep:!1,flush:"post"},parameters:{handler(){this.gyroscopeAnimation.updateParameters(this.parameters)},deep:!0},state:{handler(){this.gyroscopeAnimation.updateState(this.state)},deep:!0}},data(){return{}},mounted(){this.gyroscopeAnimation=new j(this.$refs.sceneContainer,this.parameters,this.state),this.gyroscopeAnimation.render()}},H=a(89);const V=(0,H.Z)(O,[["render",u],["__scopeId","data-v-b633fb48"]]);var U=V,A={name:"app",components:{gyroscopeSimulator:U},data:()=>({parameters:{l:{value:5,min:1,max:10,symbol:"l"},a:{value:2,min:1,max:5,symbol:"a"},h:{value:.5,min:.1,max:1,symbol:"h"},g:{value:9.8,min:0,max:10,symbol:"g"}},solverParameters:{stepSize:{value:1/240},numSteps:{value:3600},t0:{value:0}},animationParameters:{rstride:15,cstride:5,nSample:45,dpi:300,transparency:.8},initialState:{theta:{value:0,min:0,max:6.28,symbol:"ð›‰"},phi:{value:.2,min:0,max:6.28,symbol:"ðœ™"},psi:{value:0,min:0,max:6.28,symbol:"ð›™"},thetaVel:{value:0,min:0,max:12,symbol:"Ï‰",subscript:"ð›‰"},phiVel:{value:0,min:0,max:12,symbol:"Ï‰",subscript:"ðœ™"},psiVel:{value:0,min:0,max:100,symbol:"Ï‰",subscript:"ð›™"}},solution:[]}),computed:{computedState(){let t={...this.initialState};for(let e in t)t[e]=t[e].value;return Object.assign(t,this.getCartesian(t.theta,t.phi)),Object.assign(t,this.getGeneralizedMomenta()),t}},methods:{gyroscope(t,e){let[a,i,s,r,n,l]=e;a=s,s=a;let o=n/this.parameters.l.value**2,u=(r-l*Math.cos(i))/(this.parameters.l.value**2*Math.sin(i)**2),h=l/(this.parameters.a.value**2/4)-u*Math.cos(i),c=0,m=(this.parameters.l.value**2+this.parameters.a.value**2/4)*Math.sin(i)*Math.cos(i)*u**2+(this.parameters.g.value*this.parameters.l.value-this.parameters.a.value**2/4*h*u)*Math.sin(i),d=0;return[u,o,h,c,m,d]},rungeKutta(t,e,a,i,s){function r(t,e){return t.map(((t,a)=>t+e[a]))}function n(t,e){return e.map((e=>t*e))}const l=[];l.push({t:a,state:e});for(let o=1;o<=s;o++){const s=a+o*i,u=n(i,t(a,e)),h=n(i,t(a+i/2,r(e,n(.5,u)))),c=n(i,t(a+i/2,r(e,n(.5,h)))),m=n(i,t(a+i,r(e,c)));e=r(e,n(1/6,r(u,r(n(2,h),r(n(2,c),m))))),a=s,l.push({t:s,state:e})}return l},runSolver(){let t=this.rungeKutta(this.gyroscope,[this.computedState.theta,this.computedState.phi,this.computedState.psi,this.computedState.pTheta,this.computedState.pPhi,this.computedState.pPsi],this.solverParameters.t0.value,this.solverParameters.stepSize.value,this.solverParameters.numSteps.value);this.solution=[];for(let e of t){let t={theta:e.state[0],phi:e.state[1],psi:e.state[2],...this.getCartesian(e.state[0],e.state[1])};this.solution.push(t)}},getCartesian(t,e){let a=this.parameters.l.value*Math.cos(t)*Math.sin(e),i=this.parameters.l.value*Math.sin(t)*Math.sin(e),s=this.parameters.l.value*Math.cos(e);return{x:a,y:i,z:s}},getGeneralizedMomenta(){let t=(this.parameters.l.value**2*Math.sin(this.initialState.phi.value)**2+this.parameters.a.value**2/4*Math.cos(this.initialState.phi.value)**2)*this.initialState.thetaVel.value+this.parameters.a.value**2/4*this.initialState.psiVel.value*Math.cos(this.initialState.phi.value),e=this.parameters.l.value**2*this.initialState.phiVel.value,a=this.parameters.a.value**2/4*(this.initialState.thetaVel.value*Math.cos(this.initialState.phi.value)+this.initialState.psiVel.value);return{pTheta:t,pPhi:e,pPsi:a}}}};const T=(0,H.Z)(A,[["render",l]]);var I=T,C=(a(9773),a(8727)),R=a(3447),D=a(8600);const E=(0,C.Rd)({components:R,directives:D});(0,i.ri)(I).use(E).mount("#app")}},e={};function a(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,i,s,r){if(!i){var n=1/0;for(h=0;h<t.length;h++){i=t[h][0],s=t[h][1],r=t[h][2];for(var l=!0,o=0;o<i.length;o++)(!1&r||n>=r)&&Object.keys(a.O).every((function(t){return a.O[t](i[o])}))?i.splice(o--,1):(l=!1,r<n&&(n=r));if(l){t.splice(h--,1);var u=s();void 0!==u&&(e=u)}}return e}r=r||0;for(var h=t.length;h>0&&t[h-1][2]>r;h--)t[h]=t[h-1];t[h]=[i,s,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={826:0};a.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,r,n=i[0],l=i[1],o=i[2],u=0;if(n.some((function(e){return 0!==t[e]}))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(o)var h=o(a)}for(e&&e(i);u<n.length;u++)r=n[u],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(h)},i=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(6236)}));i=a.O(i)})();
//# sourceMappingURL=index.a5968525.js.map